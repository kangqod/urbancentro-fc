const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CDanGKRN.js","assets/vendor-DbCBnBMx.js","assets/antd-Cz84oPUi.js","assets/lucide-react-Antq9e1_.js"])))=>i.map(i=>d[i]);
var Ae=Object.defineProperty;var Ne=(e,s,n)=>s in e?Ae(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n;var S=(e,s,n)=>Ne(e,typeof s!="symbol"?s+"":s,n);import{aJ as t,aK as $,aL as Ie,aM as Pe,aN as p,r as x,aI as Ce}from"./vendor-DbCBnBMx.js";import{T as R,R as J,C as Z,a as X,B as v,M as Me,F as _,I as we,s as L,S as De,A as Re,b as Oe,c as he,d as ke,e as V,f as _e,L as Q,g as $e,t as ae,h as Le}from"./antd-Cz84oPUi.js";import{U as ee,A as fe,a as ye,P as Fe,N as ze,C as Ge,b as He,c as Ue,d as Ve,S as Be,M as Ye,e as Ke,f as qe,R as We,g as Je,h as Ze,i as Xe}from"./lucide-react-Antq9e1_.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const te="#ff681f";function Qe(e){const s=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${s}-${n}-${a}`}Qe(new Date);function se(){return t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsxs(R.Text,{type:"secondary",className:"release-date-text",children:["최근 업데이트 : ","2025-05-02"]})]})}const re={players:[],availablePlayerCount:0,selectedPlayer:null},C=$((e,s)=>({...re,setPlayers:n=>e(a=>{const r=typeof n=="function"?n(a.players):n;return{...a,players:r,availablePlayerCount:r.filter(i=>i.isAvailable).length}}),getAvailablePlayers:()=>s().players.filter(a=>a.isAvailable),togglePlayerAvailability:n=>e(a=>{const r=a.players.map(i=>i.id===n?{...i,isAvailable:!i.isAvailable}:i);return{...a,players:r,availablePlayerCount:r.filter(i=>i.isAvailable).length}}),setSelectedPlayer:n=>e(a=>n?{...a,selectedPlayer:n}:{...a,selectedPlayer:null}),resetPlayerState:()=>e(re)})),b={ACE:"ace",ADVANCED:"advanced",INTERMEDIATE:"intermediate",BEGINNER:"beginner"},N={HIGH:"high",MID:"mid"},w="2099",be=99,F=b.INTERMEDIATE,D=N.MID,z="-",G=[];class I{constructor(s){S(this,"id");S(this,"name");S(this,"year");S(this,"tier");S(this,"strength");S(this,"attributes");S(this,"condition");S(this,"number");S(this,"isGuest");S(this,"isAvailable");this.id=s.id||`${s.year}-${s.name}-${s.number}`,this.name=s.name||"",this.year=s.year||w,this.number=s.number||be,this.tier=s.tier||F,this.strength=s.strength||z,this.attributes=s.attributes||G,this.condition=s.condition||D,this.isGuest=s.isGuest||!1,this.isAvailable=s.year!==w}static createFromData(s){return new I(s)}toggleSelection(){this.isAvailable=!this.isAvailable}updateCondition(s){this.condition=s}}const pe={FIVE_TWO_TEAMS:{ID:"5:5",TITLE:"5 vs 5",DESCRIPTION:"총 10명",TEAM_COUNT:2,PLAYERS_PER_TEAM:5},SIX_TWO_TEAMS:{ID:"6:6",TITLE:"6 vs 6",DESCRIPTION:"총 12명",TEAM_COUNT:2,PLAYERS_PER_TEAM:6},SEVEN_TWO_TEAMS:{ID:"7:7",TITLE:"7 vs 7",DESCRIPTION:"총 14명",TEAM_COUNT:2,PLAYERS_PER_TEAM:7},FIVE_THREE_TEAMS:{ID:"5:5:5",TITLE:"5 vs 5 vs 5",DESCRIPTION:"총 15명",TEAM_COUNT:3,PLAYERS_PER_TEAM:5},SIX_THREE_TEAMS:{ID:"6:6:6",TITLE:"6 vs 6 vs 6",DESCRIPTION:"총 18명",TEAM_COUNT:3,PLAYERS_PER_TEAM:6},SEVEN_THREE_TEAMS:{ID:"7:7:7",TITLE:"7 vs 7 vs 7",DESCRIPTION:"총 21명",TEAM_COUNT:3,PLAYERS_PER_TEAM:7},FIVE_FOUR_TEAMS:{ID:"5:5:5:5",TITLE:"5 vs 5 vs 5 vs 5",DESCRIPTION:"총 20명",TEAM_COUNT:4,PLAYERS_PER_TEAM:5}};function B(e){return[...e].sort(()=>Math.random()-.5)}function et(e){e.players.forEach(n=>{n.condition=N.MID});const s=e.players.length-1;for(let n=0;n<=s;n++){if(e.players[n].name==="지원"||e.players[n].name==="지원 2")continue;if(n===0||n===s){e.players[n].condition=N.HIGH;continue}const a=n===1?.7:n===2?.5:.02;Math.random()<a&&(e.players[n].condition=N.HIGH)}}function tt(e,s){s.forEach(([n,a])=>{let r,i;for(const o of e)o.players.some(l=>l.name===n)&&(r=o),o.players.some(l=>l.name===a)&&(i=o);if(r&&i&&r===i){const o=e.find(l=>l!==r);if(o){const l=i.players.find(d=>d.name===a);l&&(r.players=r.players.filter(d=>d.name!==a),o.players.push(l));const c=o.players.find(d=>d.tier===b.INTERMEDIATE);c&&(o.players=o.players.filter(d=>d.id!==c.id),r.players.push(c))}}})}function st(e,s){const n=[["지원","지원 2"]],a=s.split(":").map(Number),r=a.length,i=a[0],o={ace:[],advanced:[],intermediate:[],beginner:[]};e.forEach(h=>{var u;(u=o[h.tier])==null||u.push(h)});const l=Array.from({length:r},(h,u)=>({name:`팀 ${String.fromCharCode(65+u)}`,players:[]})),c=(h,u)=>{u.players.push(h)},d=h=>{const u=B(o[h]),T=Math.floor(u.length/r);let H=u.length%r;l.forEach(U=>{const E=T+(H-- >0?1:0);for(let O=0;O<E&&u.length>0;O++)c(u.shift(),U)})};d(b.ACE),d(b.BEGINNER),o[b.ADVANCED]=B(o[b.ADVANCED]);const f=[...o[b.ADVANCED]],m=[...l].sort((h,u)=>u.players.filter(T=>T.tier===b.BEGINNER).length-h.players.filter(T=>T.tier===b.BEGINNER).length),g=Math.floor(f.length/l.length);let y=f.length%l.length;m.forEach(h=>{let u=g;for(y>0&&(u++,y--);u>0&&h.players.length<i&&f.length>0;){const T=f.shift();c(T,h),u--}}),o[b.INTERMEDIATE]=B(o[b.INTERMEDIATE]);const j=[...o[b.INTERMEDIATE]];for(;j.length>0;){l.sort((u,T)=>i-u.players.length-(i-T.players.length));const h=l.find(u=>u.players.length<i);if(h)c(j.shift(),h);else break}tt(l,n),nt(l),l.forEach(et),l.forEach(h=>h.players.sort((u,T)=>u.year.localeCompare(T.year)));const A=[...structuredClone(l)];return at(A).forEach(h=>{const u=h.players.map(T=>T.tier);console.log("Team: ",h.name,", Tier: ",u.join(", "))}),l}function nt(e){const s=e.filter(a=>!a.players.some(r=>r.tier===b.ACE)),n=e.filter(a=>a.players.some(r=>r.tier===b.ACE));s.forEach(a=>{for(const r of n){const i=r.players.findIndex(l=>l.tier===b.ADVANCED),o=a.players.findIndex(l=>l.tier===b.INTERMEDIATE);if(i!==-1&&o!==-1){const l=r.players.splice(i,1)[0],c=a.players.splice(o,1)[0];r.players.push(c),a.players.push(l);break}}})}function at(e){const s=[b.ACE,b.BEGINNER,b.ADVANCED,b.INTERMEDIATE];return e.forEach(n=>{n.players.sort((a,r)=>{const i=s.indexOf(a.tier),o=s.indexOf(r.tier);return i-o})}),e}const rt=e=>{const s=window.Kakao,n=e.teams?`teams=${JSON.stringify(e.teams)}`:"";s.Share.sendCustom({templateId:119479,templateArgs:{description:e.description,link:n}})},ie={teams:[],teamCount:0,playersPerTeam:0,requiredPlayers:0},k=$(e=>({...ie,setTeamOption:(s,n)=>e(()=>({teamCount:s,playersPerTeam:n,requiredPlayers:s*n})),setTeams:s=>e(()=>({teams:s})),resetTeamState:()=>e(ie)})),W="darkMode",oe={isDarkMode:localStorage.getItem(W)==="true"||!1},Te=$(e=>({...oe,setTheme:s=>e(n=>{const a=s??!n.isDarkMode;return localStorage.setItem(W,String(a)),{isDarkMode:a}}),resetThemeState:()=>{localStorage.removeItem(W),e(oe)}})),ne=[{year:"2099",number:90,name:"지원",tier:"beginner",strength:"-",attributes:[]},{year:"2099",number:91,name:"지원 2",tier:"beginner",strength:"-",attributes:[]},{year:"1973",number:10,name:"김정표",tier:"ace",strength:"골 결정력",attributes:["업데이트 중"]},{year:"1984",number:30,name:"최현석",tier:"intermediate",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1985",number:9,name:"전인정",tier:"advanced",strength:"골 결정력",attributes:["업데이트 중"]},{year:"1986",number:11,name:"김성일",tier:"intermediate",strength:"골 결정력",attributes:["유스 출신"]},{year:"1986",number:0,name:"송승근",tier:"beginner",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1986",number:28,name:"조용일",tier:"beginner",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1987",number:33,name:"강병용",tier:"beginner",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1987",number:20,name:"박준우",tier:"intermediate",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1987",number:17,name:"양성호",tier:"beginner",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1987",number:19,name:"홍승우",tier:"intermediate",strength:"업데이트 중",attributes:["라민 야말"]},{year:"1988",number:0,name:"우상욱",tier:"intermediate",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1989",number:0,name:"박근휘",tier:"ace",strength:"골 결정력",attributes:["업데이트 중"]},{year:"1989",number:8,name:"김동수",tier:"intermediate",strength:"몸싸움",attributes:["회장","파워슛"]},{year:"1989",number:0,name:"박준범",tier:"intermediate",strength:"몸싸움",attributes:["부회장"]},{year:"1989",number:1,name:"윤용준",tier:"intermediate",strength:"데이터 부족",attributes:["빠른 참석 요망"]},{year:"1989",number:4,name:"이원식",tier:"advanced",strength:"피지컬",attributes:["업데이트 중"]},{year:"1989",number:12,name:"이한별",tier:"advanced",strength:"무한 체력",attributes:["업데이트 중"]},{year:"1989",number:22,name:"임은철",tier:"advanced",strength:"몸싸움",attributes:["넓은 시야"]},{year:"1989",number:31,name:"장세원",tier:"advanced",strength:"패스",attributes:["플레이메이커","빠른 참석 요망"]},{year:"1989",number:42,name:"최승빈",tier:"ace",strength:"화려한 개인기",attributes:["플레이메이커","실수하면 소리커짐"]},{year:"1989",number:7,name:"이원재",tier:"advanced",strength:"공격 전개",attributes:["플레이메이커","넓은 시야"]},{year:"1990",number:5,name:"박치환",tier:"beginner",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1990",number:13,name:"이민수",tier:"beginner",strength:"업데이트 중",attributes:["카시야스"]},{year:"1990",number:24,name:"임시현",tier:"intermediate",strength:"업데이트 중",attributes:["업데이트 중"]},{year:"1991",number:6,name:"김백상",tier:"intermediate",strength:"유머",attributes:["화려한 발재간","잦은 부상"]},{year:"1991",number:0,name:"김혁준",tier:"beginner",strength:"체력",attributes:["군무원","열정"]},{year:"1993",number:0,name:"황윤하",tier:"advanced",strength:"젊음",attributes:["플레이메이커"]}],it=e=>{try{return JSON.parse(decodeURIComponent(e))}catch(s){return console.error("Failed to parse teams parameter:",s),[]}},ot=e=>e.reduce((s,n)=>s+n[1].length,0),lt=e=>e.flatMap((s,n)=>s[1].map(a=>{const[r,i,o]=a.split("-"),l=ne.find(c=>c.name===i&&c.year.slice(-2)===r);return l?new I({id:`shared-${n}-${l.name}`,name:l.name,number:l.number,year:l.year,tier:l.tier,strength:l.strength,attributes:l.attributes,condition:o||D,isGuest:!1,isAvailable:!0}):new I({id:`shared-${n}-${a}`,name:i,number:0,year:r||w,tier:F,strength:z,attributes:G,condition:o||D,isGuest:!0,isAvailable:!0})}));function ge(e,s){return e===0?{type:"warning",message:`${s}명의 선수를 선택해주세요`}:e<s?{type:"warning",message:`${s-e}명이 더 필요합니다`}:e>s?{type:"error",message:`${e-s}명이 초과되었습니다`}:{type:"success",message:"인원이 맞습니다"}}function Y(e){return e.map(s=>{const n=s.players.map(a=>`${a.year?`${a.year.slice(-2)}`:"99"} ${a.name} ${a.condition===N.HIGH?"↑":""}`).join(`
`);return`${s.name}
${n}`}).join(`

`)}function ct(e){if(!e)throw new Error("팀 데이터를 불러오는데 실패했습니다.");try{return console.log("teamsParam",e),JSON.parse(e).map((a,r)=>({id:String(r+1),name:`팀 ${a[0]}`,players:a[1].map((i,o)=>{const[l,c,d]=i.split("-"),f=ne.find(m=>m.name===c&&m.year.slice(-2)===l);return f?new I({id:`shared-${r}-${o}`,name:f.name,number:f.number,year:f.year,tier:f.tier,strength:f.strength,attributes:f.attributes,condition:d||D,isGuest:!1,isAvailable:!0}):new I({id:`shared-${r}-${o}`,name:c,year:l,tier:F,strength:z,attributes:G,condition:d||D,isGuest:!1,isAvailable:!0})})}))}catch{throw new Error("팀 데이터를 불러오는데 실패했습니다.")}}const le={activeTab:"team-setup",isSharedView:!1},ut=e=>({...le,setActiveTab:s=>e({activeTab:s}),setIsSharedView:s=>e({isSharedView:s}),resetFlowState:()=>e(le)}),P=$()(Ie(Pe((...e)=>({...ut(...e)})),{name:"urbancentro-fc-team-setup-flow-store",enabled:!1}));function dt(){return P(p(({activeTab:e})=>e))}function xe(){return P(p(({setActiveTab:e})=>e))}function Ee(){return k(p(({setTeamOption:e})=>e))}function mt(){return k(p(({requiredPlayers:e})=>e))}function ht(){return C(p(({getAvailablePlayers:e})=>e))}function ft(){return C(p(({setPlayers:e})=>e))}function je(){return k(p(({teams:e})=>e))}function yt(){return k(p(({teamCount:e,setTeams:s})=>({teamCount:e,setTeams:s})))}function ms(){return P(p(({isSharedView:e,setIsSharedView:s})=>[e,s]))}function hs(){return P(p(({isSharedView:e})=>e))}function bt(){return P(p(({isSharedView:e,activeTab:s})=>({isSharedView:e,activeTab:s})))}function pt(){return C(p(({players:e,availablePlayerCount:s,setPlayers:n,togglePlayerAvailability:a})=>({players:e,availablePlayerCount:s,setPlayers:n,togglePlayerAvailability:a})))}const Tt=32,K=20;function gt(){const[e,s]=x.useState(null),n=xe(),a=Ee(),r=o=>()=>{s(o);const l=Object.values(pe).find(c=>c.ID===o);l&&a(l.TEAM_COUNT,l.PLAYERS_PER_TEAM)};function i(){n("player-selection")}return{selectedOption:e,handleOptionClick:r,handleNextClick:i}}const{Title:ce,Text:ue}=R,de={TEAM:32,ARROW:16},xt=Object.values(pe).map(e=>({id:e.ID,title:e.TITLE,description:e.DESCRIPTION}));function Et(){const{selectedOption:e,handleOptionClick:s,handleNextClick:n}=gt();return t.jsxs("div",{className:"team-setup-container",children:[t.jsxs("div",{className:"team-setup-header",children:[t.jsx(ce,{level:4,children:"팀 구성 선택"}),t.jsx(ue,{type:"secondary",children:"원하는 팀 구성을 선택해주세요"}),t.jsx(se,{})]}),t.jsx(J,{gutter:[16,16],className:"team-option-row",children:xt.map(a=>t.jsx(Z,{xs:12,md:8,children:t.jsx(X,{hoverable:!0,className:`team-option-card ${e===a.id?"selected":""}`,onClick:s(a.id),children:t.jsxs("div",{className:"team-option-content",children:[t.jsx(ee,{size:de.TEAM,className:e===a.id?"icon-selected":"icon-default"}),t.jsx(ce,{level:5,className:"option-title",children:a.title}),t.jsx(ue,{type:"secondary",children:a.description})]})})},a.id))}),t.jsx("div",{className:"next-button-container",children:t.jsx(v,{type:"primary",size:"large",icon:t.jsx(fe,{size:de.ARROW}),onClick:n,disabled:!e,className:"next-button",children:"다음"})})]})}function jt({form:e,onOpenModal:s}){const n=ft();return{onFinish:r=>{const i=new I({id:`guest-${Date.now()}`,name:r.name,year:w,number:be,tier:F,condition:D,strength:z,attributes:G,isGuest:!0,isAvailable:!0});n(o=>[i,...o]),s(!1)(),e.resetFields()}}}const St=16;function vt({form:e,isModalOpen:s,onOpenModal:n}){const{onFinish:a}=jt({form:e,onOpenModal:n});return t.jsx(Me,{title:"게스트 추가",width:350,open:s,onCancel:n(!1),footer:null,children:t.jsxs(_,{form:e,layout:"vertical",onFinish:a,children:[t.jsx(_.Item,{name:"name",label:"이름",rules:[{required:!0,message:"이름을 입력해주세요"}],children:t.jsx(we,{placeholder:"게스트 이름"})}),t.jsx(_.Item,{className:"modal-footer",children:t.jsx(v,{type:"primary",htmlType:"submit",icon:t.jsx(ye,{size:St}),className:"add-guest-button",children:"추가하기"})})]})})}function At(){const[e,s]=L.useMessage(),{requiredPlayers:n}=k(),{availablePlayerCount:a}=C(),{activeTab:r}=P();return x.useEffect(()=>{const i=ge(a,n);r==="player-selection"&&e.open({key:"player-selection",type:i.type,content:i.message})},[a,e,r,n]),{contextHolder:s}}function Nt(){const{contextHolder:e}=At();return t.jsx(t.Fragment,{children:e})}function It(){const e=mt(),s=xe(),{players:n,availablePlayerCount:a,setPlayers:r,togglePlayerAvailability:i}=pt(),o=ve(),[l,c]=x.useState(!1),[d,f]=x.useState(!1),[m]=_.useForm(),[g,y]=L.useMessage(),j=a!==e,A=x.useMemo(()=>ge(a,e),[a,e]),h=E=>()=>{f(E)},u=E=>()=>{if(!l){i(E.id);return}if(E.isGuest||E.year===w){g.open({key:"no_data",type:"warning",content:`${E.name} 님의 데이터가 없습니다.`});return}o(E)},T=()=>{s("team-setup")},H=()=>{s("team-distribution")},U=()=>{c(E=>!E)};return x.useEffect(()=>{const E=ne.map(O=>new I({...O,tier:O.tier}));r(E)},[r]),{form:m,players:n,status:A,isDisabled:j,isModalOpen:d,detailMode:l,contextHolder:y,handleModalOpen:h,handlePlayerClick:u,handlePrevClick:T,handleNextClick:H,handleDetailModeClick:U}}const{Title:Pt,Text:q}=R,M=16;function Ct(){const{detailMode:e,form:s,players:n,status:a,isDisabled:r,isModalOpen:i,contextHolder:o,handleModalOpen:l,handlePlayerClick:c,handlePrevClick:d,handleNextClick:f,handleDetailModeClick:m}=It();return t.jsxs("div",{className:"player-selection-container",children:[t.jsxs("div",{className:"section-header",children:[t.jsx(Pt,{level:4,children:"선수 선택"}),t.jsx(q,{type:"secondary",children:"참여할 선수를 선택해주세요"}),t.jsx(se,{})]}),t.jsxs("div",{className:"control-panel",children:[t.jsxs("div",{className:"control-buttons",children:[t.jsx(v,{type:"dashed",icon:t.jsx(Fe,{size:M}),onClick:l(!0),className:"guest-add-button",children:"게스트 추가"}),t.jsxs("div",{className:"detail-switch-container",onClick:m,children:[t.jsx(ze,{size:M}),t.jsx(q,{children:"상세 보기"}),t.jsx(De,{checked:e,className:"detail-switch"})]})]}),t.jsx(Re,{showIcon:!0,message:a.message,type:a.type,icon:a.type==="success"?t.jsx(Ge,{size:M}):t.jsx(He,{size:M}),className:"status-alert"})]}),t.jsx("div",{className:"players-scroll-container",children:t.jsx(J,{gutter:[16,16],className:"player-row",children:n.map(g=>{const y=!e&&g.isAvailable;return t.jsx(Z,{xs:12,sm:12,md:8,children:t.jsx(X,{hoverable:!0,className:`player-card ${y?"selected":""}`,onClick:c(g),children:t.jsxs("div",{className:"player-card-content",children:[t.jsx(Oe,{checked:y,className:`${e?"detail-mode":""}`}),t.jsx("div",{className:"player-info",children:t.jsxs("div",{className:"player-name-container",children:[t.jsxs(q,{strong:!0,children:[g.year.slice(-2)," ",g.name]}),g.isGuest&&t.jsx(he,{count:"G",style:{backgroundColor:te}})]})})]})})},g.id)})})}),t.jsx("div",{className:"next-button-container player-selection",children:t.jsxs("div",{className:"button-group",children:[t.jsx(v,{size:"large",icon:t.jsx(Ue,{size:M}),onClick:d,className:"prev-button",children:"이전"}),t.jsx(v,{type:"primary",size:"large",icon:t.jsx(fe,{size:M}),onClick:f,disabled:r,className:"next-button",children:"다음"})]})}),t.jsx(vt,{form:s,isModalOpen:i,onOpenModal:l}),o,t.jsx(Nt,{})]})}const{Text:Mt}=R;function Se({isShuffle:e}){const s=je(),n=ve(),a=s.length%2===0?12:8;return t.jsx(t.Fragment,{children:e?t.jsx("div",{className:"loading-container",children:t.jsx(ke,{size:"large",style:{fontSize:"48px"}})}):t.jsx(J,{gutter:[8,8],className:"team-row",children:s.map(r=>t.jsx(Z,{xs:a,md:a,lg:4,children:t.jsx(X,{title:t.jsxs("div",{className:"team-header",children:[t.jsx("span",{children:r.name}),t.jsx(he,{count:r.players.length})]}),className:"team-card",children:t.jsx("div",{className:"player-list",children:r.players.map(i=>t.jsxs("div",{className:"player-item",onClick:()=>{i.isGuest||i.year!==w&&n(i)},children:[t.jsxs(Mt,{children:[i.year?`${i.year.slice(-2)} `:"G ",i.name]}),i.condition===N.HIGH&&t.jsx(Ve,{className:"arrow-big-up"})]},i.id))})})},r.name))})})}function wt({isShuffle:e}){return t.jsxs(t.Fragment,{children:[t.jsx(Se,{isShuffle:e}),t.jsx("div",{className:"button-container"})]})}function Dt(){const e=je(),{setActiveTab:s}=P(),[n,a]=L.useMessage(),r=async()=>{try{const c=Y(e);navigator.share?await navigator.share({title:"팀 분배 결과",text:c}):(await navigator.clipboard.writeText(c),n.success("클립보드에 복사되었습니다."))}catch(c){c instanceof Error&&c.message!=="Share canceled"&&n.error("공유에 실패했습니다."),console.error("공유 실패 :",c.message)}},i=async()=>{try{const c=Y(e);await navigator.clipboard.writeText(c),n.success("클립보드에 복사되었습니다.")}catch{n.error("복사에 실패했습니다.")}},o=()=>{const c=e.map(f=>[f.name.slice(-1),f.players.map(m=>`${m.year?`${m.year.slice(-2)}`:"99"}-${m.name}-${m.condition===N.HIGH?N.HIGH:""}`)]),d=Y(e);rt({teams:c,description:d})};function l(){s("player-selection")}return{contextHolder:a,handleNativeShare:r,handleCopyToClipboard:i,handleShareKakao:o,handlePrevClick:l}}function Rt({isShuffle:e,onClickShuffle:s}){const{contextHolder:n,handleNativeShare:a,handleCopyToClipboard:r,handleShareKakao:i,handlePrevClick:o}=Dt();return t.jsxs("div",{className:"button-container",children:[n,t.jsxs("div",{className:"share-icons",children:[t.jsx(V,{title:"공유하기",children:t.jsx(v,{type:"text",icon:t.jsx(Be,{size:24}),loading:e,onClick:a,className:"share-icon-button"})}),t.jsx(V,{title:"카카오톡 공유",children:t.jsx(v,{type:"text",icon:t.jsx(Ye,{size:24}),loading:e,onClick:i,className:"share-icon-button kakao"})}),t.jsx(V,{title:"클립보드에 복사",children:t.jsx(v,{type:"text",icon:t.jsx(Ke,{size:24}),loading:e,onClick:r,className:"share-icon-button clipboard"})})]}),t.jsxs("div",{className:"button-group",children:[t.jsx(v,{type:"default",disabled:e,onClick:o,className:"action-button prev-button",icon:t.jsx(qe,{size:16}),children:"이전"}),t.jsx(v,{type:"primary",size:"large",icon:t.jsx(We,{size:16}),onClick:s,loading:e,className:"action-button shuffle-button",children:"다시 섞기"})]})]})}function Ot({isShuffle:e,onClickShuffle:s}){return t.jsxs(t.Fragment,{children:[t.jsx(Se,{isShuffle:e}),t.jsx(Rt,{isShuffle:e,onClickShuffle:s})]})}function kt(){const{isSharedView:e,activeTab:s}=bt(),{teamCount:n,setTeams:a}=yt(),r=ht(),[i,o]=x.useState(!0),[l,c]=L.useMessage(),d=x.useRef(!1),f=async()=>{try{const j=new URLSearchParams(window.location.search).get("teams"),A=ct(j);A&&a(A)}catch(y){const j=(y==null?void 0:y.message)||"팀 데이터를 불러오는데 실패했습니다.";l.error(j)}finally{o(!1)}},m=async()=>{try{const y=r(),j=Math.ceil(y.length/n),A=Array(n).fill(j).join(":"),h=await new Promise(u=>{setTimeout(()=>{const T=st(y,A);u(T)},800)});a(h)}catch(y){const j=(y==null?void 0:y.message)||"팀 데이터를 불러오는데 실패했습니다.";l.error(j)}finally{o(!1)}},g=async()=>{o(!0),e?await f():await m()};return x.useEffect(()=>{!d.current&&s==="team-distribution"?(g(),d.current=!0):d.current=!1},[s]),{contextHolder:c,isSharedView:e,isShuffle:i,handleDistributePlayers:g}}const{Title:_t,Text:$t}=R;function Lt(){const{contextHolder:e,isSharedView:s,isShuffle:n,handleDistributePlayers:a}=kt();return t.jsxs("div",{className:"team-distribution-container",children:[e,t.jsxs("div",{className:"header",children:[t.jsx(_t,{level:4,children:"팀 분배"}),t.jsx($t,{type:"secondary",children:"랜덤으로 팀을 구성했습니다"}),t.jsx(se,{})]}),s?t.jsx(wt,{isShuffle:n}):t.jsx(Ot,{isShuffle:n,onClickShuffle:a})]})}function Ft(){const e=dt(),s=[{key:"team-setup",label:t.jsxs("div",{className:"tab-label",children:[t.jsx(ee,{size:K}),t.jsx("span",{children:"팀 구성"})]}),children:t.jsx(Et,{})},{key:"player-selection",label:t.jsxs("div",{className:"tab-label",children:[t.jsx(ye,{size:K}),t.jsx("span",{children:"선수 선택"})]}),children:t.jsx(Ct,{})},{key:"team-distribution",label:t.jsxs("div",{className:"tab-label",children:[t.jsx(Je,{size:K}),t.jsx("span",{children:"팀 분배"})]}),children:t.jsx(Lt,{})}];return t.jsx(_e,{activeKey:e,items:s,className:"team-setup-flow",centered:!0,size:"large",tabBarGutter:Tt})}function zt(){return P(p(({setActiveTab:e,setIsSharedView:s})=>({setActiveTab:e,setIsSharedView:s})))}function Gt(){return C(p(({setPlayers:e})=>e))}function ve(){return C(p(({setSelectedPlayer:e})=>e))}function Ht(){return C(p(({selectedPlayer:e,setSelectedPlayer:s})=>[e,s]))}function Ut(){return Te(p(({isDarkMode:e,setTheme:s})=>[e,s]))}const{Header:Vt}=Q,{Title:Bt}=R;function Yt(){return t.jsx(Vt,{className:"team-header",onClick:()=>window.location.href="/urbancentro-fc",children:t.jsxs("div",{className:"team-header-content",children:[t.jsx(ee,{size:24,style:{color:te}}),t.jsx(Bt,{level:4,children:"Urbancentro FC"})]})})}const Kt="modulepreload",qt=function(e){return"/urbancentro-fc/"+e},me={},Wt=function(s,n,a){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=qt(c),c in me)return;me[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Kt,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((g,y)=>{m.addEventListener("load",g),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})},Jt=x.lazy(()=>Wt(()=>import("./index-CDanGKRN.js"),__vite__mapDeps([0,1,2,3])).then(e=>({default:e.PlayerModal})));function Zt(){const[e,s]=Ht();function n(){s()}return t.jsx(x.Suspense,{fallback:t.jsx(t.Fragment,{}),children:t.jsx(Jt,{player:e,onClose:n})})}function Xt(){const{setActiveTab:e,setIsSharedView:s}=zt(),n=Ee(),a=Gt();x.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("teams");if(!i)return;const o=it(i);if(o.length===0)return;const l=ot(o),c=lt(o);n(o.length,l),a(c),s(!0),e("team-distribution")},[n,a,e,s])}function Qt(){Xt()}function es(){return Qt(),t.jsxs(t.Fragment,{children:[t.jsx(Ft,{}),t.jsx(Zt,{})]})}function ts(){const[e,s]=Ut(),n=()=>{s(!e)};return x.useEffect(()=>{document.body.classList.toggle("dark-mode",e),document.body.classList.toggle("light-mode",!e)},[e]),t.jsx(v,{onClick:n,type:"text",icon:e?t.jsx(Ze,{size:24}):t.jsx(Xe,{size:24}),className:"theme-button"})}function ss(){return x.useEffect(()=>{const e=window.Kakao;e&&(e.isInitialized()||e.init("5b53b82753893f8da896b25aedba8dbe"))},[]),null}const{Content:ns}=Q;function as(){return t.jsxs(Q,{className:"app-layout",children:[t.jsxs("div",{className:"app-header",children:[t.jsx(Yt,{}),t.jsx(ts,{})]}),t.jsx(ns,{className:"app-content",children:t.jsx(es,{})}),t.jsx(ss,{})]})}function rs(){return Te(p(({isDarkMode:e})=>e))}function is(){const e=rs();return t.jsx($e,{theme:{algorithm:e?ae.darkAlgorithm:ae.defaultAlgorithm,token:{colorPrimary:te,borderRadius:6}},children:t.jsx(Le,{children:t.jsx(as,{})})})}const os=document.getElementById("root");Ce.createRoot(os).render(t.jsx(x.StrictMode,{children:t.jsx(is,{})}));export{be as D,b as P,Ft as T,z as a,G as b,N as c,Y as d,xe as e,Ee as f,ge as g,mt as h,ht as i,ft as j,je as k,yt as l,ms as m,hs as n,bt as o,ct as p,pt as q,P as r,dt as u};
